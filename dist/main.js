(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,s){var n=s(72);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,s(21).default)("6065fdb9",n,!0,{})},13:function(t,e,s){var n=s(74);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,s(21).default)("5e985c4e",n,!0,{})},14:function(t,e,s){var n=s(76);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,s(21).default)("03ada772",n,!0,{})},68:function(t,e){},71:function(t,e,s){"use strict";var n=s(12);s.n(n).a},72:function(t,e,s){(t.exports=s(20)(!1)).push([t.i,"\n#headbar {\r\n    position: relative;\r\n    height: 30px;\r\n    background-color: rgb(41, 0, 136);\n}\r\n\r\n",""])},73:function(t,e,s){"use strict";var n=s(13);s.n(n).a},74:function(t,e,s){(t.exports=s(20)(!1)).push([t.i,"\n.form-login {\n    position: relative;\n    background: white;\n    padding: 10px;\n    border-radius: 10px;\n    margin-top: 5vh;\n    margin-right: 10%;\n    margin-left: 10%;\n}\n",""])},75:function(t,e,s){"use strict";var n=s(14);s.n(n).a},76:function(t,e,s){(t.exports=s(20)(!1)).push([t.i,"\n#app {\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n}\n\n",""])},77:function(t,e,s){"use strict";s.r(e);var n=s(2),a=s.n(n);const r=Object(n.initializeApp)({apiKey:"AIzaSyCN8FVkY2coL1PoF0sfM_zONC2PRh5-KZ0",authDomain:"monopolloi.firebaseapp.com",databaseURL:"https://monopolloi.firebaseio.com",projectId:"monopolloi",storageBucket:"monopolloi.appspot.com",messagingSenderId:"130282149770",appId:"1:130282149770:web:168bbbce3af38045361a73",measurementId:"G-4VVNHB2TN0"});r.firestore(),r.functions();var i=s(7),o=s(22),l=s.n(o),c={},u=s(4),d=Object(u.a)(c,function(){var t=this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("canvas",{attrs:{id:"canvas"}},[this._v("\n        Désolé, votre navigateur ne prend pas en charge <canvas>.\n    ")])])}],!1,null,null,null).exports,p={name:"headbar",props:["socket","users"],created:{},methods:{signout(){a.a.auth().signOut().then(()=>{this.socket.close(),this.$router.push("/login")})}}},m=(s(71),{name:"home",data:()=>({socket:{},users:[]}),components:{grid:d,headbar:Object(u.a)(p,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"headbar"}},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.signout()}}},[t._v(" déconnexion ")]),t._v(" "),s("label",[t._v(" "+t._s(t.users.length))])])},[],!1,null,null,null).exports},created(){this.socket=l()("localhost:3000")},mounted(){this.socket.emit("name",a.a.auth().currentUser.displayName),this.socket.on("users",t=>this.users=t)},methods:{move(t){console.log(t),this.socket.emit("move",t)}}}),h=Object(u.a)(m,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("headbar",{attrs:{socket:t.socket,users:t.users}}),t._v(" "),t._l(t.users,function(e){return s("div",[s("label",[t._v("\n\t\t\t"+t._s(e)+"\n\t\t")])])})],2)},[],!1,null,null,null).exports,f={name:"login",data:()=>({}),methods:{login:function(){a.a.auth().signInWithEmailAndPassword(document.getElementById("email").value,document.getElementById("password").value).catch(function(t){var e=t.code,s=t.message;console.log(e),console.log(s),"auth/user-not-found"==e&&($("#wrong-password").css("display","none"),$("#user-not-found").css("display","")),"auth/wrong-password"==e&&($("#user-not-found").css("display","none"),$("#wrong-password").css("display",""))}).then(()=>{this.$router.push("/home")})},signup:function(){this.$router.push("/signup")}}},v=(s(73),Object(u.a)(f,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("form",{staticClass:"form-login"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("center",[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.login()}}},[t._v("Se connecter")]),t._v(" "),s("a",{attrs:{type:"button"},on:{click:function(e){return t.signup()}}},[t._v("Creer un compte")])])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"none"},attrs:{id:"user-not-found"}},[e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[this._v("\n                Utilisateur inconnu !\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"none"},attrs:{id:"wrong-password"}},[e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[this._v("\n                Mot de passe incorrect !\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[this._v("Adresse mail")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"email",id:"email","aria-describedby":"emailHelp"}}),this._v(" "),e("small",{staticClass:"form-text text-muted",attrs:{id:"emailInfo"}},[this._v("L'email ne sera pas partagé.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[this._v("Mot de passe")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"password",id:"password"}})])}],!1,null,null,null).exports),_={name:"App",data:()=>({}),components:{Home:h,Login:v}},g=(s(75),Object(u.a)(_,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},[],!1,null,null,null).exports),b=s(23),y={name:"signup",data:()=>({next:"/home"}),methods:{login:function(){this.$router.push("/login")},signup:function(){this.next="/home",a.a.auth().createUserWithEmailAndPassword(document.getElementById("email").value,document.getElementById("password").value).then(function(t){return t.user.updateProfile({displayName:document.getElementById("pseudo").value})}).catch(t=>{var e=t.code,s=t.message;console.log(e),console.log(s),this.next="/signup","auth/email-already-in-use"==e&&$("#email-already-in-use").css("display",""),"auth/weak-password"==e&&$("#weak-password").css("display","")}).then(()=>{this.$router.push(this.next)})}}},w=Object(u.a)(y,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signup"},[s("form",{staticClass:"form-login"},[s("a",{on:{click:function(e){return t.login()}}},[s("i",{staticClass:"far fa-arrow-alt-circle-left"})]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),s("center",[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.signup()}}},[t._v("Creer un compte")])])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"none"},attrs:{id:"email-already-in-use"}},[e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[this._v("\n                Utilisateur déjà existant\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"none"},attrs:{id:"weak-password"}},[e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[this._v("\n                Mot de passe trop court (6 caractères minimum)\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[this._v("Adresse mail")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"email",id:"email","aria-describedby":"emailHelp"}}),this._v(" "),e("small",{staticClass:"form-text text-muted",attrs:{id:"emailInfo"}},[this._v("L'email ne sera pas partagé.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[this._v("Mot de passe")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"password",id:"password"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"pseudo"}},[this._v("Pseudo")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"pseudo",id:"pseudo",required:""}})])}],!1,null,null,null).exports;i.a.use(b.a);const C=new b.a({routes:[{path:"*",redirect:"/login"},{path:"/",redirect:"/login"},{path:"/login",name:"login",component:v},{path:"/signup",name:"signup",component:w},{path:"/home",name:"home",component:h,meta:{requiresAuth:!0}}]});C.beforeEach((t,e,s)=>{const a=n.auth().currentUser,r=t.matched.some(t=>t.meta.requiresAuth);r&&!a?s("login"):!r&&a?s("home"):s()});var x=C,E=s(37);i.a.config.productionTip=!1,i.a.use(E.a);let k="";n.auth().onAuthStateChanged(()=>{k||(k=new i.a({router:x,render:t=>t(g)}).$mount("#app"))})}},[[77,1,2]]]);
//# sourceMappingURL=main.js.map